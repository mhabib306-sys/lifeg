/* Theme: SimpleBits (default) */
:root, [data-theme="simplebits"] {
  --bg-primary: #F7F6F4;
  --bg-secondary: #EFEDE8;
  --bg-card: #EFEDE8;
  --bg-input: #FFFFFF;
  --bg-hover: #EFEDE8;
  --bg-tertiary: #E5E3DE;
  --text-primary: #1a1a1a;
  --text-secondary: #666666;
  --text-muted: #999999;
  --accent: #E5533D;
  --accent-dark: #C4432F;
  --accent-light: rgba(229, 83, 61, 0.1);
  --accent-hover: rgba(229, 83, 61, 0.08);
  --notes-accent: #8E8E93;
  --flagged-color: #FF9500;
  --overdue-color: #FF3B30;
  --deferred-color: #8E8E93;
  --notes-color: #8E8E93;
  --inbox-color: #E5533D;
  --today-color: #FFCC00;
  --upcoming-color: #FF3B30;
  --anytime-color: #5AC8FA;
  --someday-color: #C69C6D;
  --logbook-color: #22C55E;
  --trigger-color: #FFCC00;
  --border: #E5E3DE;
  --border-light: #F0EEE9;
  --success: #22C55E;
  --warning: #F59E0B;
  --danger: #DC2626;
  --btn-bg: #1a1a1a;
  --btn-hover: #333333;
  --sidebar-bg: #EFEDE8;
  --sidebar-active: rgba(229, 83, 61, 0.12);
  --sidebar-hover: rgba(0, 0, 0, 0.04);
  --modal-bg: #FFFFFF;
  --modal-overlay: rgba(0, 0, 0, 0.3);
  --toggle-off: #d1d5db;
  --toggle-off-hover: #c0c4cc;
  --scrollbar-thumb: rgba(26, 26, 26, 0.2);
  --scrollbar-thumb-hover: rgba(26, 26, 26, 0.3);
  --font-family: -apple-system, BlinkMacSystemFont, 'SF Pro Text', 'SF Pro Display', 'Inter', 'Segoe UI', system-ui, sans-serif;
  --shadow-sm: 0 1px 3px rgba(0,0,0,0.08);
  --shadow-md: 0 4px 12px rgba(0,0,0,0.1);
  --shadow-lg: 0 8px 24px rgba(0,0,0,0.12);
}

/* Theme: Things 3 - Exact Match */
[data-theme="things3"] {
  /* Backgrounds */
  --bg-primary: #FFFFFF;
  --bg-secondary: #F5F5F7;
  --bg-card: #FFFFFF;
  --bg-input: #FFFFFF;
  --bg-hover: #F5F5F7;
  --bg-tertiary: #ECEEF2;

  /* Typography */
  --text-primary: #1D1D1F;
  --text-secondary: #6E6E73;
  --text-muted: #8E8E93;

  /* Things 3 Accent Blue */
  --accent: #147EFB;
  --accent-dark: #0066DC;
  --accent-light: rgba(20, 126, 251, 0.08);
  --accent-hover: rgba(0, 0, 0, 0.03);
  --notes-accent: #8E8E93;

  /* Perspective colors (additional) */
  --flagged-color: #FF9500;
  --overdue-color: #FF3B30;
  --deferred-color: #8E8E93;
  --notes-color: #8E8E93;

  /* Borders */
  --border: #DFE1E6;
  --border-light: #ECEEF2;

  /* Status colors */
  --success: #34C759;
  --warning: #FF9500;
  --danger: #FF3B30;

  /* Things 3 perspective colors */
  --inbox-color: #147EFB;
  --today-color: #FFCC00;
  --upcoming-color: #FF3B30;
  --anytime-color: #5AC8FA;
  --someday-color: #C69C6D;
  --logbook-color: #34C759;
  --trigger-color: #FFCC00;

  /* Buttons */
  --btn-bg: #147EFB;
  --btn-hover: #0066DC;

  /* Sidebar */
  --sidebar-bg: #F5F5F7;
  --sidebar-active: rgba(0, 0, 0, 0.05);
  --sidebar-hover: rgba(0, 0, 0, 0.03);

  /* Modal */
  --modal-bg: #FFFFFF;
  --modal-overlay: rgba(0, 0, 0, 0.3);

  /* Toggle */
  --toggle-off: #d1d5db;
  --toggle-off-hover: #c0c4cc;

  /* Scrollbar */
  --scrollbar-thumb: rgba(29, 29, 31, 0.2);
  --scrollbar-thumb-hover: rgba(29, 29, 31, 0.3);

  /* Font */
  --font-family: -apple-system, BlinkMacSystemFont, 'SF Pro Text', 'SF Pro Display', 'Inter', 'Segoe UI', system-ui, sans-serif;

  /* Shadows - Things 3 uses very subtle shadows */
  --shadow-sm: 0 1px 2px rgba(0,0,0,0.04);
  --shadow-md: 0 4px 12px rgba(0,0,0,0.08);
  --shadow-lg: 0 8px 24px rgba(0,0,0,0.12);
  --shadow-modal: 0 20px 40px rgba(0,0,0,0.15);
}

/* Theme: Geist — Geist Design System
   Color scale sourced from geist-colors (official token library).
   Gray: 10-step neutral monochrome.  Blue-700 (#0070F3) = primary accent.
   All values are the light-mode Geist tokens. */
[data-theme="geist"] {
  /* Backgrounds (background-100 #FFF, background-200 #FAFAFA, gray-100 #F2F2F2) */
  --bg-primary: #FAFAFA;
  --bg-secondary: #F2F2F2;
  --bg-card: #FFFFFF;
  --bg-input: #FFFFFF;
  --bg-hover: #F2F2F2;
  --bg-tertiary: #EBEBEB;

  /* Typography (gray-1000, gray-900, gray-700) */
  --text-primary: #171717;
  --text-secondary: #666666;
  --text-muted: #8F8F8F;

  /* Accent — Geist blue-700 primary, blue-800 dark, blue-100 light */
  --accent: #0070F3;
  --accent-dark: #0060D1;
  --accent-light: rgba(0, 112, 243, 0.08);
  --accent-hover: rgba(0, 0, 0, 0.05);
  --notes-accent: #8F8F8F;

  /* Semantic — Geist scale 700 per color: red, amber, green, purple */
  --flagged-color: #FFB224;
  --overdue-color: #E5484D;
  --deferred-color: #8F8F8F;
  --notes-color: #8F8F8F;
  --success: #46A758;
  --warning: #FFB224;
  --danger: #E5484D;

  /* Perspective colors (mapped to Geist palette) */
  --inbox-color: #0070F3;
  --today-color: #FFB224;
  --upcoming-color: #E5484D;
  --anytime-color: #0070F3;
  --someday-color: #8F8F8F;
  --logbook-color: #46A758;
  --trigger-color: #FFB224;

  /* Borders — gray-300 (#E6E6E6) and gray-100 (#F2F2F2) */
  --border: #E6E6E6;
  --border-light: #F2F2F2;

  /* Buttons — black foreground on white, Geist convention */
  --btn-bg: #000000;
  --btn-hover: #171717;

  /* Sidebar */
  --sidebar-bg: #FAFAFA;
  --sidebar-active: rgba(0, 112, 243, 0.08);
  --sidebar-hover: rgba(0, 0, 0, 0.05);

  /* Modal */
  --modal-bg: #FFFFFF;
  --modal-overlay: rgba(0, 0, 0, 0.5);

  /* Toggle (gray-500, gray-600) */
  --toggle-off: #C9C9C9;
  --toggle-off-hover: #A8A8A8;

  /* Scrollbar (grayAlpha-200, grayAlpha-500) */
  --scrollbar-thumb: rgba(0, 0, 0, 0.08);
  --scrollbar-thumb-hover: rgba(0, 0, 0, 0.21);

  /* Font — Geist Sans, Geist Mono. Falls back to Inter → system. */
  --font-family: 'Geist', 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', system-ui, sans-serif;
  --font-mono: 'Geist Mono', 'SF Mono', 'Fira Code', 'Roboto Mono', monospace;

  /* Shadows — clean and minimal, dual-layer */
  --shadow-sm: 0 1px 2px rgba(0, 0, 0, 0.04), 0 1px 1px rgba(0, 0, 0, 0.02);
  --shadow-md: 0 4px 8px rgba(0, 0, 0, 0.08), 0 2px 4px rgba(0, 0, 0, 0.04);
  --shadow-lg: 0 8px 16px rgba(0, 0, 0, 0.1), 0 4px 8px rgba(0, 0, 0, 0.06);
  --shadow-modal: 0 16px 48px rgba(0, 0, 0, 0.2), 0 0 0 1px rgba(0, 0, 0, 0.05);

  /* Geist-specific tokens */
  --geist-glow: 0 0 0 2px rgba(0, 112, 243, 0.25);
  --geist-border-focus: #0070F3;
  --geist-bg-code: #F2F2F2;
}

/* ===== MOBILE DESIGN TOKENS (Apple HIG) ===== */
:root {
  /* Touch targets */
  --touch-min: 44px;
  --touch-comfortable: 48px;
  --touch-large: 56px;

  /* Spacing scale (4px base) */
  --space-1: 4px;   --space-2: 8px;   --space-3: 12px;
  --space-4: 16px;  --space-5: 20px;  --space-6: 24px;
  --space-8: 32px;  --space-10: 40px; --space-12: 48px;

  /* Typography scale (Apple SF sizes) */
  --type-caption2: 11px;  --type-caption1: 12px;
  --type-footnote: 13px;  --type-subheadline: 15px;
  --type-body: 17px;      --type-title3: 20px;
  --type-title2: 22px;    --type-title1: 28px;
  --type-largeTitle: 34px;

  /* Motion tokens */
  --duration-instant: 100ms;
  --duration-fast: 150ms;
  --duration-normal: 250ms;
  --duration-slow: 350ms;
  --duration-sheet: 400ms;
  --ease-default: cubic-bezier(0.25, 0.1, 0.25, 1);
  --ease-spring: cubic-bezier(0.34, 1.56, 0.64, 1);
  --ease-sheet: cubic-bezier(0.32, 0.72, 0, 1);
  --ease-decelerate: cubic-bezier(0, 0, 0.2, 1);
  --ease-accelerate: cubic-bezier(0.4, 0, 1, 1);

  /* Spring curves — generated via scripts/generate-spring-curves.mjs */
  --spring-snappy: cubic-bezier(0.22, 1.0, 0.36, 1.0);   /* stiffness:500, damping:30 */
  --spring-smooth: cubic-bezier(0.25, 0.8, 0.25, 1.0);    /* stiffness:300, damping:30 */
  --spring-bouncy: cubic-bezier(0.34, 1.56, 0.64, 1.0);   /* stiffness:400, damping:15 */
  --spring-gentle: cubic-bezier(0.16, 1.0, 0.3, 1.0);     /* stiffness:200, damping:25 */
  --spring-duration-snappy: 200ms;
  --spring-duration-smooth: 350ms;
  --spring-duration-bouncy: 500ms;
  --spring-duration-gentle: 400ms;

  /* Sheet / Modal */
  --sheet-handle-width: 36px;
  --sheet-handle-height: 5px;
  --sheet-handle-color: rgba(0, 0, 0, 0.15);
  --sheet-backdrop-blur: 20px;
  --sheet-shadow: 0 -8px 32px rgba(0, 0, 0, 0.12);
}

[data-mode="dark"] {
  --sheet-handle-color: rgba(255, 255, 255, 0.2);
  --sheet-shadow: 0 -8px 32px rgba(0, 0, 0, 0.3);
}

/* =========================================================================
   DARK MODE VARIANTS
   Activated by data-mode="dark" alongside data-theme.
   ========================================================================= */

/* Dark mode button text fix — btn-bg inverts so text must too */
[data-mode="dark"] .sb-btn { color: #0A0A0A; }
[data-theme="things3"][data-mode="dark"] .sb-btn { color: white; }

/* SimpleBits — Dark */
[data-theme="simplebits"][data-mode="dark"] {
  --bg-primary: #1A1916;
  --bg-secondary: #242220;
  --bg-card: #242220;
  --bg-input: #2C2A27;
  --bg-hover: #2C2A27;
  --bg-tertiary: #333130;
  --text-primary: #F0EEE9;
  --text-secondary: #A8A5A0;
  --text-muted: #7A7672;
  --accent: #E5533D;
  --accent-dark: #F06B57;
  --accent-light: rgba(229, 83, 61, 0.15);
  --accent-hover: rgba(229, 83, 61, 0.1);
  --border: #333130;
  --border-light: #2C2A27;
  --btn-bg: #F0EEE9;
  --btn-hover: #D8D5D0;
  --sidebar-bg: #1A1916;
  --sidebar-active: rgba(229, 83, 61, 0.15);
  --sidebar-hover: rgba(255, 255, 255, 0.05);
  --modal-bg: #242220;
  --modal-overlay: rgba(0, 0, 0, 0.6);
  --toggle-off: #4A4845;
  --toggle-off-hover: #5A5855;
  --scrollbar-thumb: rgba(255, 255, 255, 0.15);
  --scrollbar-thumb-hover: rgba(255, 255, 255, 0.25);
  --shadow-sm: 0 1px 3px rgba(0,0,0,0.3);
  --shadow-md: 0 4px 12px rgba(0,0,0,0.4);
  --shadow-lg: 0 8px 24px rgba(0,0,0,0.5);
}

/* Things 3 — Dark (iOS system dark) */
[data-theme="things3"][data-mode="dark"] {
  --bg-primary: #1C1C1E;
  --bg-secondary: #2C2C2E;
  --bg-card: #2C2C2E;
  --bg-input: #3A3A3C;
  --bg-hover: #3A3A3C;
  --bg-tertiary: #3A3A3C;
  --text-primary: #FFFFFF;
  --text-secondary: #8E8E93;
  --text-muted: #636366;
  --accent: #147EFB;
  --accent-dark: #3A9BFF;
  --accent-light: rgba(20, 126, 251, 0.15);
  --accent-hover: rgba(255, 255, 255, 0.05);
  --border: #38383A;
  --border-light: #2C2C2E;
  --success: #30D158;
  --warning: #FF9F0A;
  --danger: #FF453A;
  --btn-bg: #147EFB;
  --btn-hover: #3A9BFF;
  --sidebar-bg: #1C1C1E;
  --sidebar-active: rgba(20, 126, 251, 0.15);
  --sidebar-hover: rgba(255, 255, 255, 0.05);
  --modal-bg: #2C2C2E;
  --modal-overlay: rgba(0, 0, 0, 0.6);
  --toggle-off: #48484A;
  --toggle-off-hover: #5A5A5C;
  --scrollbar-thumb: rgba(255, 255, 255, 0.15);
  --scrollbar-thumb-hover: rgba(255, 255, 255, 0.25);
  --shadow-sm: 0 1px 2px rgba(0,0,0,0.3);
  --shadow-md: 0 4px 12px rgba(0,0,0,0.4);
  --shadow-lg: 0 8px 24px rgba(0,0,0,0.5);
  --shadow-modal: 0 20px 40px rgba(0,0,0,0.6);
}

/* Geist — Dark (official Geist dark tokens) */
[data-theme="geist"][data-mode="dark"] {
  --bg-primary: #0A0A0A;
  --bg-secondary: #111111;
  --bg-card: #111111;
  --bg-input: #1A1A1A;
  --bg-hover: #1A1A1A;
  --bg-tertiary: #222222;
  --text-primary: #EDEDED;
  --text-secondary: #A1A1A1;
  --text-muted: #707070;
  --accent: #3291FF;
  --accent-dark: #52A8FF;
  --accent-light: rgba(50, 145, 255, 0.12);
  --accent-hover: rgba(255, 255, 255, 0.06);
  --notes-accent: #707070;
  --flagged-color: #FFD074;
  --overdue-color: #FF6166;
  --deferred-color: #707070;
  --notes-color: #707070;
  --success: #3CCF4E;
  --warning: #FFD074;
  --danger: #FF6166;
  --inbox-color: #3291FF;
  --today-color: #FFD074;
  --upcoming-color: #FF6166;
  --anytime-color: #3291FF;
  --someday-color: #707070;
  --logbook-color: #3CCF4E;
  --trigger-color: #FFD074;
  --border: #333333;
  --border-light: #222222;
  --btn-bg: #EDEDED;
  --btn-hover: #D4D4D4;
  --sidebar-bg: #0A0A0A;
  --sidebar-active: rgba(50, 145, 255, 0.12);
  --sidebar-hover: rgba(255, 255, 255, 0.06);
  --modal-bg: #111111;
  --modal-overlay: rgba(0, 0, 0, 0.7);
  --toggle-off: #333333;
  --toggle-off-hover: #444444;
  --scrollbar-thumb: rgba(255, 255, 255, 0.1);
  --scrollbar-thumb-hover: rgba(255, 255, 255, 0.2);
  --shadow-sm: 0 1px 2px rgba(0, 0, 0, 0.4), 0 0 0 1px rgba(255, 255, 255, 0.04);
  --shadow-md: 0 4px 8px rgba(0, 0, 0, 0.5), 0 0 0 1px rgba(255, 255, 255, 0.04);
  --shadow-lg: 0 8px 16px rgba(0, 0, 0, 0.6), 0 0 0 1px rgba(255, 255, 255, 0.04);
  --shadow-modal: 0 16px 48px rgba(0, 0, 0, 0.7), 0 0 0 1px rgba(255, 255, 255, 0.06);
  --geist-glow: 0 0 0 2px rgba(50, 145, 255, 0.3);
  --geist-border-focus: #3291FF;
  --geist-bg-code: #1A1A1A;
}
